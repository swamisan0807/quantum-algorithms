<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Post-Quantum Cryptography - Quantum Poker</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --quantum-blue: #00f5ff;
      --quantum-purple: #8a2be2;
      --quantum-gold: #ffd700;
      --quantum-red: #ff073a;
      --quantum-green: #39ff14;
      --success-green: #28a745;
      --warning-orange: #fd7e14;
      --danger-red: #dc3545;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: 
        radial-gradient(circle at 15% 85%, var(--quantum-green) 0%, transparent 50%),
        radial-gradient(circle at 85% 15%, var(--quantum-blue) 0%, transparent 50%),
        linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
      min-height: 100vh;
      color: white;
      padding: 40px 20px;
      position: relative;
    }

    /* Quantum Grid Background */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(57, 255, 20, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(57, 255, 20, 0.1) 1px, transparent 1px);
      background-size: 45px 45px;
      animation: gridMove 18s linear infinite;
      pointer-events: none;
      z-index: 0;
    }

    @keyframes gridMove {
      0% { transform: translate(0, 0); }
      100% { transform: translate(45px, 45px); }
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      background: rgba(15, 15, 25, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(57, 255, 20, 0.3);
      border-radius: 25px;
      padding: 50px;
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
      position: relative;
      z-index: 2;
    }

    h1 {
      font-family: 'Orbitron', monospace;
      font-size: 2.8em;
      font-weight: 900;
      background: linear-gradient(135deg, var(--quantum-green), var(--quantum-blue), var(--quantum-purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-align: center;
      margin-bottom: 20px;
      animation: titleGlow 3s ease-in-out infinite alternate;
    }

    @keyframes titleGlow {
      0% { filter: drop-shadow(0 0 20px rgba(57, 255, 20, 0.6)); }
      100% { filter: drop-shadow(0 0 40px rgba(0, 245, 255, 0.6)); }
    }

    .subtitle {
      font-size: 1.2em;
      color: var(--quantum-blue);
      text-align: center;
      margin-bottom: 40px;
      opacity: 0.9;
    }

    .status-container {
      margin: 40px 0;
    }

    .status {
      padding: 30px;
      border-radius: 15px;
      font-weight: 600;
      font-size: 1.1em;
      text-align: center;
      border: 2px solid;
      position: relative;
      overflow: hidden;
    }

    .status::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      animation: borderFlow 3s linear infinite;
    }

    .status-success {
      background: rgba(40, 167, 69, 0.15);
      border-color: var(--success-green);
      color: var(--success-green);
    }

    .status-success::before {
      background: linear-gradient(90deg, var(--success-green), var(--quantum-blue), var(--success-green));
    }

    .status-error {
      background: rgba(220, 53, 69, 0.15);
      border-color: var(--danger-red);
      color: var(--danger-red);
    }

    .status-error::before {
      background: linear-gradient(90deg, var(--danger-red), var(--warning-orange), var(--danger-red));
    }

    @keyframes borderFlow {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .crypto-details {
      margin: 40px 0;
      display: grid;
      gap: 25px;
    }

    .detail-card {
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(57, 255, 20, 0.3);
      border-radius: 15px;
      padding: 25px;
      transition: all 0.3s ease;
    }

    .detail-card:hover {
      transform: translateY(-5px);
      border-color: var(--quantum-green);
      box-shadow: 0 15px 30px rgba(57, 255, 20, 0.2);
    }

    .detail-title {
      font-family: 'Orbitron', monospace;
      color: var(--quantum-green);
      font-size: 1.2em;
      margin-bottom: 15px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .detail-content {
      opacity: 0.9;
      line-height: 1.6;
    }

    .shared-secret {
      background: rgba(0, 0, 0, 0.7);
      border: 2px solid var(--quantum-blue);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      font-family: 'Orbitron', monospace;
      font-size: 1.1em;
      color: var(--quantum-blue);
      text-align: center;
      letter-spacing: 2px;
      word-break: break-all;
    }

    .algorithm-info {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .info-item {
      background: rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(0, 245, 255, 0.3);
      border-radius: 10px;
      padding: 20px;
      text-align: center;
    }

    .info-label {
      font-size: 0.9em;
      color: var(--quantum-blue);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 8px;
    }

    .info-value {
      font-family: 'Orbitron', monospace;
      font-size: 1.1em;
      color: var(--quantum-gold);
      font-weight: 600;
    }

    .performance-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .perf-card {
      background: rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(138, 43, 226, 0.3);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .perf-card:hover {
      border-color: var(--quantum-purple);
      transform: scale(1.05);
    }

    .perf-number {
      font-family: 'Orbitron', monospace;
      font-size: 1.8em;
      color: var(--quantum-purple);
      font-weight: 900;
      margin-bottom: 8px;
    }

    .perf-label {
      font-size: 0.85em;
      opacity: 0.9;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .quantum-info {
      margin: 40px 0;
      padding: 30px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 15px;
      border-left: 4px solid var(--quantum-gold);
      border: 1px solid rgba(255, 215, 0, 0.3);
    }

    .quantum-info h3 {
      font-family: 'Orbitron', monospace;
      color: var(--quantum-gold);
      margin-bottom: 15px;
      font-size: 1.3em;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .quantum-info p {
      opacity: 0.9;
      line-height: 1.7;
      font-size: 1em;
    }

    .buttons {
      display: flex;
      gap: 25px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 40px;
    }

    .button {
      padding: 18px 35px;
      border: none;
      border-radius: 15px;
      font-weight: 600;
      font-size: 1.1em;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .button-primary {
      background: linear-gradient(135deg, var(--quantum-green), var(--quantum-blue));
      color: white;
      box-shadow: 0 10px 30px rgba(57, 255, 20, 0.4);
      border: 2px solid rgba(57, 255, 20, 0.6);
    }

    .button-secondary {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.3);
    }

    .button:hover {
      transform: translateY(-4px);
    }

    .button-primary:hover {
      box-shadow: 0 15px 40px rgba(57, 255, 20, 0.6);
      background: linear-gradient(135deg, var(--quantum-blue), var(--quantum-purple));
    }

    .button-secondary:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: var(--quantum-green);
    }

    .button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.6s;
    }

    .button:hover::before {
      left: 100%;
    }

    .error-message {
      color: var(--danger-red);
      font-weight: 600;
      margin-top: 15px;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .container {
        margin: 20px;
        padding: 30px 20px;
      }
      
      h1 {
        font-size: 2.2em;
      }
      
      .algorithm-info,
      .performance-grid {
        grid-template-columns: 1fr;
      }
      
      .buttons {
        flex-direction: column;
        align-items: center;
      }
      
      .button {
        width: 100%;
        max-width: 300px;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîê Post-Quantum Cryptography</h1>
    <p class="subtitle">Quantum-Resistant Key Exchange Demonstration</p>
    
    <div class="status-container">
      {% if result.supported %}
        <div class="status status-success">
          ‚úÖ Quantum-Safe Key Exchange {{ 'Successful' if result.success else 'Failed' }}
        </div>
      {% elif result.error %}
        <div class="status status-error">
          ‚ùå {{ result.error }}
        </div>
      {% else %}
        <div class="status status-error">
          ‚ö†Ô∏è Post-Quantum Cryptography libraries not available
        </div>
      {% endif %}
    </div>

    {% if result.supported and result.success %}
      <div class="detail-card">
        <div class="detail-title">üîë Shared Secret Generated</div>
        <div class="shared-secret">{{ result.shared_secret }}</div>
        <div class="detail-content">
          This truncated shared secret was generated using quantum-resistant algorithms that remain secure 
          even against attacks from future quantum computers.
        </div>
      </div>

      {% if result.algorithm_info %}
      <div class="detail-card">
        <div class="detail-title">üõ°Ô∏è Algorithm Information</div>
        <div class="algorithm-info">
          <div class="info-item">
            <div class="info-label">Algorithm</div>
            <div class="info-value">{{ result.algorithm_info.name }}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Variant</div>
            <div class="info-value">{{ result.algorithm_info.variant or 'Standard' }}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Security Level</div>
            <div class="info-value">{{ result.algorithm_info.security_level or 'High' }}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Quantum Safe</div>
            <div class="info-value">{{ '‚úÖ Yes' if result.algorithm_info.quantum_safe else '‚ùå No' }}</div>
          </div>
        </div>
      </div>
      {% endif %}

      {% if result.performance_metrics %}
      <div class="detail-card">
        <div class="detail-title">‚ö° Performance Metrics</div>
        <div class="performance-grid">
          <div class="perf-card">
            <div class="perf-number">{{ result.performance_metrics.total_time_ms }}ms</div>
            <div class="perf-label">Total Time</div>
          </div>
          {% if result.performance_metrics.keygen_time_ms %}
          <div class="perf-card">
            <div class="perf-number">{{ result.performance_metrics.keygen_time_ms }}ms</div>
            <div class="perf-label">Key Generation</div>
          </div>
          {% endif %}
          {% if result.performance_metrics.encaps_time_ms %}
          <div class="perf-card">
            <div class="perf-number">{{ result.performance_metrics.encaps_time_ms }}ms</div>
            <div class="perf-label">Encapsulation</div>
          </div>
          {% endif %}
          {% if result.performance_metrics.operations_per_second %}
          <div class="perf-card">
            <div class="perf-number">{{ result.performance_metrics.operations_per_second }}</div>
            <div class="perf-label">Ops/Second</div>
          </div>
          {% endif %}
        </div>
      </div>
      {% endif %}

      {% if result.key_sizes %}
      <div class="detail-card">
        <div class="detail-title">üìè Cryptographic Sizes</div>
        <div class="algorithm-info">
          <div class="info-item">
            <div class="info-label">Public Key</div>
            <div class="info-value">{{ result.key_sizes.public_key }} bytes</div>
          </div>
          <div class="info-item">
            <div class="info-label">Secret Key</div>
            <div class="info-value">{{ result.key_sizes.secret_key }} bytes</div>
          </div>
          <div class="info-item">
            <div class="info-label">Ciphertext</div>
            <div class="info-value">{{ result.key_sizes.ciphertext }} bytes</div>
          </div>
          <div class="info-item">
            <div class="info-label">Shared Secret</div>
            <div class="info-value">{{ result.key_sizes.shared_secret }} bytes</div>
          </div>
        </div>
      </div>
      {% endif %}
    {% endif %}

    <div class="quantum-info">
      <h3>üåê Post-Quantum Security</h3>
      <p>
        Post-quantum cryptography refers to cryptographic algorithms that are secure against attacks 
        by both classical and quantum computers. As quantum computers become more powerful, traditional 
        encryption methods like RSA and ECC will become vulnerable to Shor's algorithm. Our implementation 
        uses lattice-based cryptography that remains secure in the quantum era.
      </p>
    </div>

    {% if not result.supported %}
    <div class="detail-card">
      <div class="detail-title">üì¶ Installation Required</div>
      <div class="detail-content">
        To see the full post-quantum cryptography demonstration, install the required libraries:
        <br><br>
        <code style="background: rgba(0,0,0,0.5); padding: 10px; border-radius: 5px; display: block; margin: 10px 0;">
          pip install kyber-py
        </code>
        <br>
        This demo uses CRYSTALS-Kyber, a lattice-based key encapsulation mechanism selected by NIST 
        for standardization as a post-quantum cryptographic algorithm.
      </div>
    </div>
    {% endif %}

    <div class="buttons">
      <a href="{{ url_for('pqc') }}" class="button button-primary">
        üîÑ Generate New Keys
      </a>
      <a href="{{ url_for('index') }}" class="button button-secondary">
        üè† Back to Home
      </a>
    </div>
  </div>
</body>
</html>